# m-hub 架构说明

移动端 H5 页面集合，用于活动、协议、推广等场景。

## 技术栈

| 类别     | 选择                    |
| -------- | ----------------------- |
| 构建工具 | Vite                    |
| 框架     | React 18 + TypeScript   |
| UI 库    | Ant Design Mobile       |
| 样式     | Less + CSS Modules      |
| 请求     | Axios                   |
| 路由     | React Router (活动内部) |

## 项目结构

```
m-hub/
├── src/
│   ├── pages/                    # 页面目录
│   │   ├── static/               # 纯静态页面（隐私协议、说明页等）
│   │   │   └── privacy.html
│   │   ├── activity-spring/      # 活动页（React SPA）
│   │   │   ├── index.html
│   │   │   ├── main.tsx
│   │   │   ├── App.tsx           # 路由配置
│   │   │   └── views/            # 子页面
│   │   └── activity-summer/
│   └── shared/                   # 公共代码
│       ├── api/                  # 请求封装
│       ├── styles/               # 公共样式
│       └── utils/                # 工具函数
├── .env.development              # 开发环境配置
├── .env.production               # 生产环境配置
└── vite.config.ts
```

## 页面类型

### 1. 纯静态页面

放在 `pages/static/` 下，直接写 HTML，不需要构建。

适用：隐私协议、用户协议、简单说明页。

### 2. React 活动页

每个活动一个目录，内部用 React Router 管理多个子页面。

适用：有交互、多页面的活动。

## 访问路径

| 页面         | 路径                                        |
| ------------ | ------------------------------------------- |
| 隐私协议     | `https://m.lytt.fun/static/privacy.html`    |
| 春季活动首页 | `https://m.lytt.fun/activity-spring/`       |
| 春季活动规则 | `https://m.lytt.fun/activity-spring/#/rule` |
| 夏季活动首页 | `https://m.lytt.fun/activity-summer/`       |

## 新增页面

### 新增静态页

在 `src/pages/static/` 下创建 `.html` 文件即可。

### 新增活动

1. 复制 `activity-spring/` 目录
2. 修改目录名和内容
3. 在 `App.tsx` 中配置路由

## 环境配置

```bash
# .env.development
VITE_API_BASE_URL=http://localhost:3009/api

# .env.production
VITE_API_BASE_URL=https://api.lytt.fun/api
```

## 开发

```bash
pnpm install
pnpm dev
```

## 构建

```bash
pnpm build
```

输出到 `dist/` 目录。
