# m-hub 部署说明

## 部署架构

```
GitHub Actions (tag 触发)
     │
     ▼ pnpm build
   dist/
     │
     ▼ scp 上传
   服务器 /app/m-hub/
     │
     ▼ nginx 代理
https://m.lytt.fun
```

## 部署步骤

### 1. 首次部署准备

#### 申请 SSL 证书

在服务器上执行：

```bash
certbot certonly --webroot -w /var/www/certbot -d m.lytt.fun
```

#### 部署 nginx 配置

```bash
cd nginx-app
.\scripts\deploy.bat
```

### 2. 日常部署

```bash
cd m-hub
.\scripts\deploy.bat
```

脚本会自动创建 tag 并推送，触发 GitHub Actions 构建部署。

## 访问路径

| 页面         | 路径                                        |
| ------------ | ------------------------------------------- |
| 静态页面     | `https://m.lytt.fun/static/xxx.html`        |
| 春季活动首页 | `https://m.lytt.fun/activity-spring/`       |
| 春季活动规则 | `https://m.lytt.fun/activity-spring/#/rule` |

## 注意事项

1. 首次部署需要先申请 SSL 证书
2. nginx-app 配置更新后需要重新部署
3. 活动页使用 HashRouter，无需服务端路由配置
